{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","components/Container/Container.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/Pixabay.js","App.js","index.js"],"names":["module","exports","Container","children","className","SearchBar","onSubmit","useState","query","setQuery","s","Searchbar","SearchForm","e","preventDefault","trim","alert","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","i","src","alt","ImageGalleryItemImage","onClick","ImageGallery","gallery","im","map","idx","Button","onLoadMore","b","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","event","code","window","addEventListener","removeEventListener","createPortal","m","Overlay","target","width","height","axios","defaults","baseURL","fetchImg","page","url","get","then","data","hits","propTypes","PropTypes","string","isRequired","number","App","setPage","setGallery","loading","setLoading","showModal","setShowModal","setLargeImageURL","setAlt","error","setError","getImgs","useCallback","length","prevGallery","scrollPageDown","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","search","color","timeout","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.517d759f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3yrBZ\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2TLST\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__aHXPW\",\"Modal\":\"Modal_Modal__2YwgM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3vb_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1ctqS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3QE2F\",\"SearchForm\":\"SearchBar_SearchForm__OriTH\",\"SearchForm_button\":\"SearchBar_SearchForm_button__13KkS\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2OrS_\",\"SearchForm_input\":\"SearchBar_SearchForm_input__3yczb\"};","import PropTypes from 'prop-types';\r\n\r\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Container;\r\n","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport s from './SearchBar.module.css';\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      alert('Enter what you are looking');\r\n      return;\r\n    }\r\n    onSubmit(query);\r\n    setQuery('');\r\n  };\r\n\r\n  const handleValueChange = e => {\r\n    setQuery(e.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n            <span className={s.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n            onChange={handleValueChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    </>\r\n  );\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport i from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags = '',\r\n  onSetImgInfo,\r\n}) => {\r\n  return (\r\n    <li className={i.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={i.ImageGalleryItemImage}\r\n        onClick={() => {\r\n          onSetImgInfo({ largeImageURL, tags });\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport im from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ gallery, onSetImgInfo }) => (\r\n  <ul className={im.ImageGallery}>\r\n    {gallery.map(({ webformatURL, largeImageURL, tags }, idx) => (\r\n      <ImageGalleryItem\r\n        key={idx}\r\n        webformatURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n        tags={tags}\r\n        onSetImgInfo={onSetImgInfo}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.array.isRequired,\r\n  onSetImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport b from './Button.module.css';\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button type=\"button\" className={b.Button} onClick={() => onLoadMore()}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport m from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, largeImageURL, alt }) {\r\n  useEffect(() => {\r\n    const handleKeyDown = event => event.code === 'Escape' && onClose();\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  });\r\n\r\n  const handleBackdropClick = event =>\r\n    event.currentTarget === event.target && onClose();\r\n\r\n  return createPortal(\r\n    <div className={m.Overlay} onClick={handleBackdropClick}>\r\n      <div className={m.Modal}>\r\n        <img src={largeImageURL} alt={alt} width=\"800\" height=\"600\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst apiKey = '19822341-38023a333dc0ee1aeedcaef47';\r\nconst perPage = 12;\r\n\r\nconst fetchImg = ({ query = '', page = 1 }) => {\r\n  const url = `?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\r\n\r\n  return axios.get(url).then(({ data }) => data.hits);\r\n};\r\n\r\nfetchImg.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default fetchImg;\r\n","import React, { useCallback, useEffect, useState } from 'react';\nimport Container from './components/Container';\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\nimport fetchImg from './services/Pixabay';\nimport './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function App() {\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [gallery, setGallery] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [alt, setAlt] = useState(null);\n  const [error, setError] = useState(null);\n\n  const getImgs = useCallback(() => {\n    setLoading(true);\n\n    fetchImg({ query, page })\n      .then(gallery => {\n        if (gallery.length === 0) {\n          alert(`Sorry! ${query} is not found`);\n        }\n        setGallery(prevGallery => [...prevGallery, ...gallery]);\n        scrollPageDown();\n      })\n      .catch(error => setError(error))\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [page, query]);\n\n  useEffect(() => {\n    if (!query) return;\n    getImgs();\n  }, [query, getImgs]);\n\n  const handleSubmit = search => {\n    if (query === search) {\n      return;\n    }\n    setQuery(search);\n    setPage(1);\n    setGallery([]);\n    setLoading(true);\n    setError(null);\n    setShowModal(false);\n  };\n\n  const scrollPageDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const setImgInfo = ({ largeImageURL, tags }) => {\n    setLargeImageURL(largeImageURL);\n    setAlt(tags);\n    toggleModal();\n  };\n  const LoadMore = () => setPage(prevPage => prevPage + 1);\n\n  return (\n    <Container>\n      <SearchBar onSubmit={handleSubmit} />\n      {error && <p>Whoops, something went wrong.</p>}\n      {loading && (\n        <Loader\n          className=\"Loader\"\n          type=\"TailSpin\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          timeout={2000}\n        />\n      )}\n      <ImageGallery gallery={gallery} onSetImgInfo={setImgInfo} />\n      {gallery.length >= 6 && !loading && <Button onLoadMore={LoadMore} />}\n\n      {showModal && (\n        <Modal largeImageURL={largeImageURL} alt={alt} onClose={toggleModal} />\n      )}\n    </Container>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}